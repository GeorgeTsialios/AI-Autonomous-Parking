(function(a){function k(){try{for(var b=document.querySelectorAll("[href\x3d'https://www.sas.com/profile/ui/']"),d=0;d<b.size;d++)b[d].setAttribute("href","javascript:handleCreateProfile();")}catch(g){console.log(g)}if(!a.userDefinitelyLoggedIn)try{e("login","block"),e("login2","block"),e("login3","block"),e("login4","block"),e("logout","none"),e("logout2","none"),e("logout3","none"),e("logout4","none")}catch(g){console.log(g)}}function e(b,a,c){var d=document.getElementById(b);b="login"==b||"logout"==
b?document.querySelectorAll("[id\x3d'"+b+"']"):[d];for(var g=0;g<b.length;g++)if(d=b[g],void 0!=d){if(void 0!=c){for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(c))}d.style.display=a}}function m(b){b=document.getElementById(b);if(void 0!=b){var d=b.getAttribute("href");if((a.stringStartsWith(d,"http")||a.stringStartsWith(d,"//"))&&!a.stringStartsWith(d,c.baseURL)){console.log("Edit Profile URL ["+d+"] on page does not appear to point to correct Profile environment ["+
c.baseURL+"], fixing\u2026");var g="",f=d.indexOf("?");-1!=f&&(g=d.substring(f));b.setAttribute("href",c.editURL+g)}}}function p(b){return null!=b&&""!=b?"locale\x3d"+b:""}function q(b,a){document.cookie=b+"\x3d"+encodeURIComponent(a)+";domain\x3d.sas.com;path\x3d/;Secure;SameSite\x3dNone"}function r(b){document.cookie=b+"\x3d;Max-Age\x3d-99999999;domain\x3d.sas.com;path\x3d/;"}a.domReady=!1;a.loginBarDisplayed=!1;a.hasOpenAMSession=!1;a.displayLoginBarReady=!1;a.userDefinitelyLoggedIn=!1;a.stringStartsWith=
function(b,a){return String.prototype.startsWith?b.startsWith(a):b.substring(0,a.length)===a};a.readCookie=function(b){var a=document.cookie.split(";");b+="\x3d";for(var c=0;c<a.length;c++){for(var f=a[c];" "==f.charAt(0);)f=f.substring(1,f.length);if(0==f.indexOf(b))return decodeURIComponent(f.substring(b.length,f.length))}return null};a.copyLocalStorageToSessionStorage=function(){a.readCookie("oktasession")?localStorage.getItem("oktaAccessToken")&&(sessionStorage.setItem("oktaAccessToken",localStorage.getItem("oktaAccessToken")),
sessionStorage.setItem("oktaAccessExpiry",localStorage.getItem("oktaAccessExpiry"))):localStorage.getItem("oktaAccessToken")&&(localStorage.removeItem("oktaAccessToken"),localStorage.removeItem("oktaAccessExpiry"))};a.displayLoginBar=function(){a.displayLoginBarReady=!0;if(a.domReady&&!a.loginBarDisplayed)try{var b=a.readCookie(c.authCookieName),d=a.readCookie(c.persistCookieName),g=a.readCookie(c.oktaLoginStatusCookieName),f=a.readCookie("oktasession");sessionStorage.setItem("returnurl",window.location.href);
if((null==b||""==b||":"==b.charAt(0))&&null!=d&&""!=d&&":"!=d.charAt(0)){var e=encodeURIComponent(c.aembase+"/okta.sso.html?returnurl\x3d"+encodeURIComponent(window.location.href));console.log("(line 51) setting window location href to: "+c.loginURL+"?fromURI\x3d"+e);window.location.href=c.loginURL+"?fromURI\x3d"+e}null!=b&&""!=b&&":"!=b.charAt(0)&&(a.showAuthMenu(),console.log("called showAuthMenu: 81"),a.hasOpenAMSession=!0);g&&console.log("okta login status cookie present but user not logged in");
var u=localStorage.getItem("oktaAccessToken")||sessionStorage.getItem("oktaAccessToken");if(f&&u)a.showAuthMenu(),a.userDefinitelyLoggedIn=!0,console.log("called showAuthMenu: 91");else{var h=new XMLHttpRequest;h.withCredentials=!0;h.open("GET",c.oktaOrgURL+"/api/v1/users/me");h.onload=function(){if(4===h.readyState)if(200===h.status)try{a.userDefinitelyLoggedIn=!0,JSON.parse(h.responseText),q(c.oktaLoginStatusCookieName,!0),a.showAuthMenu(),console.log("called showAuthMenu: 108"),a.loginBarDisplayed=
!0}catch(l){a.showAnonMenu(),console.log("called showAnonMenu: 111 because "+l),a.loginBarDisplayed=!0}else k(),console.log("called showAnonMenu: 115"),a.loginBarDisplayed=!0};h.onerror=function(b){k();console.log("called showAnonMenu: 121 because profile.js xhr.onerror: "+b);a.loginBarDisplayed=!0};h.send(null)}}catch(l){console.log("not showing menu, just profile.js omnom error:"+l)}};a.handleCreateProfile=function(a){sessionStorage.setItem("returnurl",window.location.href);var b=encodeURIComponent(c.aembase+
"/okta.sso.html?returnurl\x3d"+encodeURIComponent(window.location.href));window.location.href=c.createURL+"?returnURL\x3d"+encodeURIComponent(b)+"\x26"+p(a)};a.handleEditProfile=function(a){sessionStorage.setItem("returnurl",window.location.href);var b=encodeURIComponent(c.aembase+"/okta.sso.html?returnurl\x3d"+encodeURIComponent(window.location.href));window.location.href=c.editURL+"?returnURL\x3d"+encodeURIComponent(b)+"\x26"+p(a)};a.handleLogin=function(a,d){var b="";void 0!=d&&null!=d&&1==d&&
(b="\x26showNewUserDisplay\x3dfalse");sessionStorage.setItem("returnurl",window.location.href);d=encodeURIComponent(c.aembase+"/okta.sso.html?returnurl\x3d"+encodeURIComponent(window.location.href));window.location.href=c.loginURL+"?"+p(a)+b+"\x26returnURL\x3d"+d};a.handleForgottenPWD=function(a){sessionStorage.setItem("returnurl",window.location.href);var b=encodeURIComponent(c.aembase+"/okta.sso.html?returnurl\x3d"+encodeURIComponent(window.location.href));window.location.href=c.passwordResetURL+
"?"+p(a)+"\x26returnURL\x3d"+encodeURIComponent(b)};a.handleLogout=function(b){sessionStorage.setItem("returnurl",window.location.href);var d=c.aembase+"/okta.ssolo.html?returnurl\x3d"+encodeURIComponent(window.location.href);b&&-1==b.indexOf("okta.sso")&&(d=c.aembase+"/okta.ssolo.html?returnurl\x3d"+encodeURIComponent(b));r(c.oktaLoginStatusCookieName);window.location.href=a.hasOpenAMSession?c.logoutURL+"?fromURI\x3d"+encodeURIComponent(d):c.oktaLogoutURL+"?fromURI\x3d"+encodeURIComponent(d)};a.showAnonMenu=
k;a.showAuthMenu=function(){try{e("login","none"),e("login2","none"),e("login3","none"),e("login4","none"),e("logout","block"),e("logout2","block"),e("logout3","block"),e("logout4","block"),m("editProfileButton"),m("editProfileButton2"),m("editProfileButton3"),m("editProfileButton4")}catch(b){console.log(b)}};a.setElementDisplayStyle=e;var c={cookieEnvironmentPrefix:void 0,authCookieName:"_iPlanetDirectoryPro",persistCookieName:"_DProPCookie",oktaLoginStatusCookieName:"_oktaSessionActive",openAMRedirectAttemptedCookieName:"_openAMRedirectAttempted",
baseURL:void 0,loginBaseURL:void 0,loginURL:"/profile/ui/#/sign-in",logoutURL:"/profile/ui/#/sign-out",oktaLogoutURL:"/login/signout",applicationURL:"/profile/ui/",createURL:"#/create",editURL:"/profile/user/contact.htm",passwordResetURL:"#/forgot-password",oktaOrgURL:void 0,isCrossDomain:!1,init:function(){var a=document.location.host,d=/test/,c=/aem[0-9]*(dev|test)web/,f=/stage/,e=/col=wwwstage/;/profiledev/.test(a)?this.cookieEnvironmentPrefix="ed":d.test(a)||c.test(a)?this.cookieEnvironmentPrefix=
"et":f.test(a)||e.test(document.location.search)?this.cookieEnvironmentPrefix="es":(this.cookieEnvironmentPrefix="ep",this.persistCookieName="ep"+this.persistCookieName);this.baseURL=SAS.profileBaseURL;this.aembase=SAS.profileAEMBase;this.loginBaseURL=SAS.profileLoginBaseURL;this.oktaOrgURL=SAS.profileOktaOrgURL;this.authCookieName=this.cookieEnvironmentPrefix+this.authCookieName;this.persistCookieName=this.cookieEnvironmentPrefix+this.persistCookieName;this.oktaLoginStatusCookieName=this.cookieEnvironmentPrefix+
this.oktaLoginStatusCookieName;this.openAMRedirectAttemptedCookieName=this.cookieEnvironmentPrefix+this.openAMRedirectAttemptedCookieName;this.loginURL=this.loginBaseURL+this.loginURL;this.logoutURL=this.loginBaseURL+this.logoutURL;this.oktaLogoutURL=this.oktaOrgURL+this.oktaLogoutURL;this.applicationURL=this.baseURL+this.applicationURL;this.createURL=this.applicationURL+this.createURL;this.editURL=this.baseURL+this.editURL;this.passwordResetURL=this.applicationURL+this.passwordResetURL;/^(.*\.)?sas\.com$/.test(a)||
(this.isCrossDomain=!0)}};a.loginConfig=c;c.init();a.writeCookie=q;a.deleteCookie=r;a.onContentLoaded=function(a){var b=!1,c=!0,f=window.document,e=f.documentElement,k=f.addEventListener?"addEventListener":"attachEvent",h=f.addEventListener?"removeEventListener":"detachEvent",l=f.addEventListener?"":"on",n=function(c){if("readystatechange"!=c.type||"complete"==f.readyState)("load"==c.type?window:f)[h](l+c.type,n,!1),!b&&(b=!0)&&a.call(window,c.type||c)},m=function(){try{e.doScroll("left")}catch(t){setTimeout(m,
50);return}n("poll")};if("complete"==f.readyState)a.call(window,"lazy");else{if(f.createEventObject&&e.doScroll){try{c=!window.frameElement}catch(t){console.log(t)}c&&m()}f[k](l+"DOMContentLoaded",n,!1);f[k](l+"readystatechange",n,!1);window[k](l+"load",n,!1)}}})(this.Profile=this.Profile||{});function handleCreateProfile(a){console.log("Deprecated wrapper handleCreateProfile() called; please call Profile.handleCreateProfile() instead.");Profile.handleCreateProfile(a)}
function handleLogin(a,k){console.log("Deprecated wrapper handleLogin() called; please call Profile.handleLogin() instead.");Profile.handleLogin(a,k)}function showLoginScreen(a){console.log("Deprecated wrapper showLoginScreen() called; please call Profile.handleLogin() instead.");Profile.handleLogin()}function handleForgottenPWD(a){console.log("Deprecated wrapper handleForgottenPWD() called; please call Profile.handleForgottenPWD() instead.");Profile.handleForgottenPWD(a)}
function handleLogout(){console.log("Deprecated wrapper handleLogout() called; please call Profile.handleLogout() instead.");Profile.handleLogout()}function processLogoutRequest(){console.log("Deprecated wrapper processLogoutRequest() called; please call Profile.handleLogout() instead.");Profile.handleLogout()}
Profile.onContentLoaded(function(){Profile.domReady=!0;Profile&&Profile.loginConfig&&(!Profile.loginConfig.isCrossDomain||Profile.loginConfig.isCrossDomain&&Profile.displayLoginBarReady)?(Profile.displayLoginBar(),Profile.copyLocalStorageToSessionStorage()):setTimeout(function(){Profile.displayLoginBar();Profile.copyLocalStorageToSessionStorage()},1500)});