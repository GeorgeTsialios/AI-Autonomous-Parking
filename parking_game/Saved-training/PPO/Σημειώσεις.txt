Training 1)

Τα 1000 επεισόδια (600.000 steps) πήραν 25min στη CPU. Ωστόσο, παρατήρησα ότι ο πράκτορας των 600.000 steps κουνιόταν αργά. Αυτό μάλλον οφείλεται στο ότι ξέχασα το punishment για όταν κινείται αργά χωρίς να έχει παρκάρει για όταν η ταχύτητα του == 0 -το οποίο συμβαίνει σπάνια. Τώρα το αλλάζω, ώστε αυτό το punishment να εφαρμόζεται όταν η ταχύτητα είναι < 10.

Training 2)

Εκπαιδεύσαμε για 3.500.000 steps (5.800 επεισόδια) και χρειάστηκαν 2.5 ώρες. ωστόσο, βλέπουμε πως η γραφική των average rewards δεν έχει βελτιωθεί καθόλου.

Training 3)

Έκανα κανονικοποίηση της εισόδου και των rewards. Στα 1000 επεισόδια (600.000 steps), η γραφική των average rewards είναι παρόμοια με αυτήν του Training 2. Επίσης, παρατηρώ ότι η γραφική στο τέλος έχει σταθεροποιηθεί στην τιμή -5.400. Αξιολογώντας τον πράκτορα των 600.000 steps, είδα ότι απλά μένει ακίνητος σε όλο το επεισόδιο, κι έτσι προκύπτει reward: -9 * 600 = -5.400.

Training 4)

Εφάρμοσα MaxAndSkip = 4, δηλ. ο πράκτορας παίρνει απόφαση κάθε 4 frames. Παρατηρώ ότι πάλι το reward σταθεροποιήθηκε στο -5.400. Ωστόσο, είδα ότι η εκπαίδευση διήρκησε περισσότερη ώρα (συγκεκριμένα τα 600.000 steps χρειάστηκαν 34'). Έψαξα τι ακριβώς κάνει η κλάση MaxAndSkipEnv. Αφενός κάνει αυτό που θέλω, δηλ. ο πράκτορας επαναλαμβάνει την ίδια action για 4 frames, το οποίο είναι επιθυμητό για να μην διαλέγει πάρα πολύ συχνά διαφορετικά actions (παίρνει υπερβολικά γρήγορα αποφάσεις), να έχει πιο ομαλή οδήγηση. Έτσι, επιταχύνεται κι η εκπαίδευση. Ωστόσο, η κλάση αυτή κάνει επίσης Max-Pooling Over Frames, δηλ. επιστρέφει τη μέγιστη τιμή του κάθε pixel σε αυτά τα skipped frames. Αυτό είναι κάτι επιθυμητό όταν έχουμε περιβάλλον Atari, αλλά όχι στην περίπτωση μου, όπου τα observations δεν είναι frames αλλά vectors. Για αυτό κατέβασα τον κώδικα της κλάσης και τον άλλαξα, ώστε να αφήσω μόνο την 1η λειτουργία (άρα την ονόμασα SkipEnv class).

Training 5)

Θα εκπαιδεύσω τον πράκτορα με την custom SkipEnv class μου. Παρατηρώ ότι η γραφική των average rewards με την SkipEnv class μου είναι παρόμοια με αυτήν με την MaxAndSkipEnv και συγκλίνει στην τιμή -5.400. Αυτό είναι λογικό καθώς πρέπει να αλλάξουμε την reward function για να αλλάξει αυτό. Ωστόσο, δεν παρατηρήθηκε speed up μεταξύ της SkipEnv class και της MaxAndSkipEnv, δηλ. τα fps τους είναι ίδια κι έτσι χρειάστηκαν πάλι 34' για τα 600.000 steps. Παρόλα αυτά, και οι δύο κλάσεις συγκλίνουν πολύ γρηγορότερα από την περίπτωση χωρίς frame skip (PPO_3). Για αυτό, θα τις προτιμήσουμε στη συνέχεια.