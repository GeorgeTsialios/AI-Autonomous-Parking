## Ανάπτυξη cross-platform εφαρμογών {#sec:literature:crossPlatformApps}

Στη σημερινή εποχή, οι ηλεκτρονικές συσκευές με τις οποίες αλληλεπιδρά κανείς είναι ποικίλες. Από τον κλασικό υπολογιστή, μέχρι τα έξυπνα κινητά (smartphones), τις ταμπλέτες και τις φορετές συσκευές (wearables), η ανάγκη του ανθρώπου να εκτελεί την εργασία του από μία πληθώρα συσκευών ολοένα αυξάνεται. Ανάλογα αυξάνεται και ο φόρτος εργασίας των σχεδιαστών και μηχανικών λογισμικού, οι οποίοι πρέπει να διασφαλίζουν την άψογη λειτουργικότητα των προϊόντων τους σε όλα τα περιβάλλοντα.

Στην παρούσα ενότητα, θα αναλυθεί η αναγκαιότητα ανάπτυξης εφαρμογών για πολλαπλές πλατφόρμες και λειτουργικά συστήματα και θα παρουσιαστούν λύσεις που έχουν προταθεί για διευκόλυνση του έργου των μηχανικών λογισμικού. Επίσης, θα παρουσιαστεί το Flutter, ένα προγραμματιστικό περιβάλλον για ανάπτυξη εφαρμογών, οι οποίες καλύπτουν μία πληθώρα συστημάτων.

### Συσκευές, λειτουργικά συστήματα και native apps {#sec:literature:crossPlatformApps:devicesOSesNativeApps}

Τα τελευταία χρόνια, το μερίδιο χρήσης ηλεκτρονικών συσκευών από τους καταναλωτές γίνεται ολοένα πιο ευρύ. Σύμφωνα με δεδομένα του DataReportal [@Kemp2022], οι πιο δημοφιλείς τύποι συσκευών είναι τα έξυπνα κινητά (smartphones), οι ηλεκτρονικοί υπολογιστές (laptops ή desktop computers), οι ταμπλέτες, τα έξυπνα ρολόγια, οι παιχνιδομηχανές, οι συσκευές ροής δεδομένων τηλεοπτικού περιεχομένου (TV streaming), οι συσκευές έξυπνου σπιτιού (smart home) και οι συσκευές εικονικής πραγματικότητας, με ποσοστά που φαίνονται στην Εικόνα @fig:literature:crossPlatformApps:devicesOSesNativeApps:deviceMarketShare.

![Μερίδιο αγοράς ηλεκτρονικών συσκευών. Δεδομένα Ιανουαρίου 2022 [@Kemp2022].](2-literature/figures/deviceMarketShare.png){#fig:literature:crossPlatformApps:devicesOSesNativeApps:deviceMarketShare}

Μοιρασμένη είναι επίσης η αγορά των χρησιμοποιούμενων λειτουργικών συστημάτων ανά συσκευή. Σύμφωνα με τα [@StatCounter2023] και [@Statista2023], περίπου το 70% των smartphones διαθέτει λειτουργικό σύστημα Android, ενώ περίπου το υπόλοιπο 30% λειτουργεί με Apple iOS. Στις ταμπλέτες το χάσμα είναι μικρότερο, όπου προηγείται το λειτουργικό σύστημα iOS με περίπου 55%, ενώ ακολουθεί το Android με ποσοστό περίπου 45%. Τέλος, στον τομέα των ηλεκτρονικών υπολογιστών, κυριαρχούν τα Microsoft Windows με ποσοστό περίπου 69%, ακολουθούν οι εκδόσεις της Apple macOS με περίπου 21%, ενώ το υπόλοιπο 10% σχηματίζουν άλλα λειτουργικά συστήματα, όπως διανομές Linux, Chrome OS, κ.ά. Τα αντίστοιχα ποσοστά φαίνονται στην Εικόνα @fig:literature:crossPlatformApps:devicesOSesNativeApps:OSMarketShare.

![Μερίδιο αγοράς λειτουργικών συστημάτων. Δεδομένα Νοεμβρίου 2023 [@StatCounter2023]](2-literature/figures/OSMarketShare.png){#fig:literature:crossPlatformApps:devicesOSesNativeApps:OSMarketShare}

Από τα προηγούμενα, μπορεί κανείς να συμπεράνει ότι οι σχεδιαστές και οι προγραμματιστές μίας εφαρμογής[^app] πρέπει, κατά τη διάρκεια σχεδίασης, ανάπτυξης και υποστήριξης, να λαμβάνουν υπόψη όλα τα διαφορετικά περιβάλλοντα χρήσης του προϊόντος τους.

[^app]: Σύμφωνα με την εγκυκλοπαίδεια Britannica [@Britannica2023], εφαρμογή (application) είναι το λογισμικό εκείνο που έχει σχεδιαστεί ώστε να διαχειρίζεται συγκεκριμένες εργασίες των χρηστών. Τέτοιο λογισμικό οδηγεί τον υπολογιστή να εκτελεί εντολές που προέρχονται από τον χρήστη και ενδέχεται να περιλαμβάνει ένα πρόγραμμα διαχείρισης δεδομένων για λογαριασμό του χρήστη.

Επομένως, η σχεδίαση και η ανάπτυξη εφαρμογών έχει διαφοροποιηθεί πλέον σε σύγκριση με το παρελθόν, αφού θα πρέπει να υποστηρίζει πολλαπλές πλατφόρμες, στάνταρ, πρωτόκολλα και τεχνολογίες δικτύου. Επιπλέον, δεδομένου ότι τη μεγαλύτερη μερίδα της αγοράς ηλεκτρονικών συσκευών κατέχουν τα smartphones και οι ταμπλέτες, οι ίδιοι πρέπει να λαμβάνουν υπόψη τις περιορισμένες δυνατότητες που συχνά διαθέτουν οι συσκευές αυτές, αν και λόγω της τεχνολογικής εξέλιξης, αυτές συνεχώς αυξάνονται [@Delia2015].

Ο ιδανικότερος τρόπος για να υποστηρίξει κανείς όλα τα επιμέρους λειτουργικά συστήματα είναι με την ανάπτυξη μίας ξεχωριστής εφαρμογής για το καθένα. Οι λεγόμενες native εφαρμογές προσφέρουν την πλουσιότερη εμπειρία χρήσης (user experience), αφού έχουν γρήγορη απόδοση και αισθητική σύμφωνη με το υπόλοιπο σύστημα, ενώ ταυτόχρονα διαχειρίζονται με τον καλύτερο δυνατό τρόπο τους διαθέσιμους πόρους, έχοντας πλήρη πρόσβαση στο υποκείμενο υλικό [@Xanthopoulos2013].

Από την άλλη, αυτό εισάγει μία σημαντική δυσκολία για τους μηχανικούς λογισμικού, αφού για κάθε λειτουργικό σύστημα θα πρέπει να χρησιμοποιηθεί διαφορετική γλώσσα προγραμματισμού (για παράδειγμα, Java ή Kotlin για το Android, Swift για το iOS κ.λπ.), ενώ επιπλέον τα διαθέσιμα APIs[^api] και SDKs[^sdk] είναι διαφορετικά. Έτσι, είτε απαιτείται γνώση πολλών διαφορετικών προγραμματιστικών περιβαλλόντων, είτε η συνεργασία πολλών προγραμματιστών σε μία ομάδα, γεγονός που οδηγεί σε αυξημένο κόστος παραγωγής.

[^api]: Ένα API (Application Programming Interface) είναι ένα σύνολο κανόνων που επιτρέπουν σε διαφορετικές εφαρμογές να επικοινωνούν μεταξύ τους. Λειτουργεί ως ενδιάμεσο επίπεδο που χειρίζεται τη μεταφορά δεδομένων μεταξύ συστημάτων, επιτρέποντας στις εταιρείες να καθιστούν διαθέσιμα τα δεδομένα και τις λειτουργίες των εφαρμογών τους σε τρίτους [@IBM2023].

[^sdk]: Ένα SDK (Software Development Kit) είναι ένα σύνολο εργαλείων που διατίθεται από κατασκευαστές υλικού και λογισμικού και βοηθά τους προγραμματιστές να κατασκευάζουν εφαρμογές για συγκεκριμένες πλατφόρμες [@Yasar2022].

Με τις native εφαρμογές, λοιπόν, παρατηρείται ένα φαινόμενο γνωστό ως τμηματοποίηση (fragmentation), επειδή για το ίδιο προϊόν απαιτούνται πολλαπλά εκτελέσιμα αρχεία. Εξάλλου, η προγραμματιστική αρχή write-once, run-anywhere (WORA), που εισήχθη ως όραμα της Java, δεν μπορεί να εφαρμοστεί με αυτόν τον τρόπο [@Gavalas2011]. Έτσι, άρχισαν σταδιακά να γίνονται προσπάθειες προς μία νέα κατεύθυνση της μηχανικής λογισμικού, που κατέληξε στις σημερινές cross-platform λύσεις.

### Εξέλιξη των cross-platform εφαρμογών {#sec:literature:crossPlatformApps:evolution}

Πλέον, το ενδιαφέρον των μηχανικών λογισμικού έχει στραφεί στις cross-platform λύσεις. Ο στόχος αυτής της προσέγγισης είναι η κατάκτηση επιδόσεων εφάμιλλων των native εφαρμογών και η βελτιστοποίηση του λόγου κόστους - κέρδους, ενώ ο κώδικας γράφεται μία φορά και τρέχει σε όσες περισσότερες πλατφόρμες αυτό είναι δυνατό [@Xanthopoulos2013] [@Delia2015].

Από τις πρώτες λύσεις που δόθηκαν στο πρόβλημα, ήταν η ανάπτυξη εφαρμογών ιστού (web applications), οι οποίες φιλοξενούνται σε έναν εξυπηρετητή και τρέχουν στις συσκευές των χρηστών μέσω ενός φυλλομετρητή. Πράγματι, οι εφαρμογές ιστού είναι ανεξάρτητες λογισμικού, αφού ο φυλλομετρητής λειτουργεί ως ένα αφαιρετικό στρώμα μεταξύ της εφαρμογής και του λειτουργικού συστήματος του πελάτη. Ωστόσο, προσφέρουν φτωχότερη εμπειρία χρήσης, αφού για την εκτέλεση μίας τέτοιας εφαρμογής απαιτείται συνεχής σύνδεση στο Διαδίκτυο και η λήψη του κώδικα από τον εξυπηρετητή στον πελάτη κάθε φορά που ανανεώνεται η σελίδα, οδηγεί σε καθυστερήσεις στην απόδοση. Επιπλέον, ο φυλλομετρητής δεν επιτρέπει τη χρήση όλων των πόρων του συστήματος (όπως κάμερα, GPS, επιταχυνσιόμετρο), ενώ δεν είναι δυνατή ούτε η εκτέλεση της εφαρμογής στο παρασκήνιο, που ενδεχομένως να ήταν επιθυμητή για τη λήψη ενημερώσεων από τον χρήστη. Συμπεραίνει κανείς, επομένως, πως οι εφαρμογές ιστού αποτελούν μία εξυπηρετική λύση για τους προγραμματιστές, αλλά συχνά προκαλούν τη δυσαρέσκεια των πελατών, λόγω της κακής εμπειρίας χρήσης [@Delia2015].

Εξέλιξη των εφαρμογών ιστού αποτέλεσαν οι υβριδικές εφαρμογές (hybrid apps). Οι εφαρμογές αυτές εγκαθίστανται στη συσκευή, όπως μία native εφαρμογή, ωστόσο περιλαμβάνουν ένα web container, μέσα στο οποίο εκτελείται η web εφαρμογή. Οι υβριδικές εφαρμογές επιτρέπουν την επαναχρησιμοποίηση του κώδικα, όπως οι web εφαρμογές, και επιπλέον προσφέρουν περισσότερη λειτουργικότητα, αφού μπορούν να επικοινωνούν με τους πόρους της συσκευής μέσω API. Εξάλλου, η εγκατάσταση και η διανομή της εφαρμογής από πλατφόρμες, όπως το Google Play Store και το App Store, επιτρέπει γρήγορες αναβαθμίσεις και διορθώσεις σφαλμάτων [@Delia2015] [@Xanthopoulos2013] [@Shah2019]. Παρ' όλα αυτά, τέτοιες λύσεις χαρακτηρίζονται από φτωχή εμπειρία χρήσης, αφού συνήθως η γραφική διεπαφή τους δεν περιλαμβάνει native στοιχεία, ενώ οι χρόνοι εκτέλεσης είναι αργοί, λόγω της συνεχούς επικοινωνίας με τον εξυπηρετητή [@Mascetti2021]. Μία τέτοια λύση αποτελεί το Apache Cordova, παλαιότερα γνωστό ως PhoneGap, το οποίο χρησιμοποιεί WebView για τον σχεδιασμό της διεπαφής και Plugins για την επικοινωνία με την υποκείμενη συσκευή [@Shah2019].

Πλέον, λόγω των μειονεκτημάτων που προαναφέρθηκαν, το ενδιαφέρον αρχίζει να απομακρύνεται από τις web-based εφαρμογές. Στη θέση τους, έδαφος κερδίζουν οι διερμηνευόμενες εφαρμογές (interpreted apps) και οι εφαρμογές που προκύπτουν από παράλληλη μεταγλώττιση (cross-compilation). Οι μεν διερμηνευόμενες εφαρμογές προσφέρουν μία native γραφική διεπαφή, η οποία προκύπτει από διερμήνευση κατά τον χρόνο εκτέλεσης (runtime) και είναι ανεξάρτητες πλατφόρμας [@Delia2015]. Χαρακτηριστικό παράδειγμα αποτελεί το React Native, ένα cross-platform development framework που χρησιμοποιεί μηχανή JavaScript. Αρκετά γνωστό σε αυτή την κατηγορία, ήταν παλαιότερα επίσης το Appcelerator Titanium.

Αντίθετα, οι cross-compiled εφαρμογές μεταφράζονται πλήρως σε native κώδικα κατά τη διάρκεια της μεταγλώττισης (compile-time), προσφέροντας έτσι τις υψηλότερες επιδόσεις σε σύγκριση με όλα τα υπόλοιπα frameworks. Οι εφαρμογές αυτές είναι συνήθως widget-based, δηλαδή όλα τα στοιχεία είναι widgets[^widget], που λειτουργούν ως δομικοί λίθοι για το χτίσιμο της διεπαφής [@Delia2015] [@Shah2019]. Ένα από τα πιο γνωστά cross-compilation frameworks είναι το Flutter, που θα παρουσιαστεί στην Ενότητα @sec:literature:crossPlatformApps:Flutter.

[^widget]: Widget ονομάζεται οτιδήποτε μπορεί να οριστεί ως δομικό στοιχείο, στοιχείο καθορισμού στυλ ή χαρακτηριστικό διάταξης. Συνήθως διακρίνονται σε stateless widgets, τα οποία δεν ανταποκρίνονται σε ενέργειες του χρήστη, και σε stateful widgets, τα οποία μπορούν να αλλάξουν την κατάστασή τους δυναμικά [@Shah2019].

Πολλές εργασίες έχουν αφοσιωθεί στη σύγκριση και την αξιολόγηση των διαφόρων cross-platform development frameworks. Οι κ.κ. [@Xanthopoulos2013] καταλήγουν στο συμπέρασμα ότι δεν υπάρχει εν γένει βέλτιστη λύση, αλλά η επιλογή framework πρέπει να παίρνεται ξεχωριστά για κάθε project, με βάση πολλούς παράγοντες, όπως:

- την διάθεση της εφαρμογής σε σουίτες όπως Google Play Store και το App Store,
- τις υποστηριζόμενες τεχνολογίες,
- την ανάγκη για πρόσβαση στο υποκείμενο υλικό και τα δεδομένα,
- την αισθητική της γραφικής διεπαφής και
- τις επιδόσεις όπως τις αντιλαμβάνεται ο χρήστης.

Εξάλλου, όπως είναι κατανοητό, υπάρχουν πολλά cross-platform development frameworks, λίγα από τα οποία έγιναν ευρέως αποδεκτά, λόγω της κακής επίδοσης και σταθερότητας. Από το 2020 και έπειτα, το Flutter, το React Native και το Xamarin άρχισαν να κερδίζουν έδαφος στον χώρο, λόγω καλύτερων επιδόσεων [@You2021]. Οι κ.κ. [@Mascetti2021] ερεύνησαν την προσβασιμότητα των εφαρμογών που χτίζονται με cross-platform development frameworks και κατέληξαν στο συμπέρασμα ότι αρκετά από τα native APIs προσβασιμότητας δεν είναι διαθέσιμα μέσω τέτοιων frameworks. Οι προγραμματιστές εξακολουθούν να μπορούν να τα χρησιμοποιούν, αλλά μόνο μέσω κώδικα που εξαρτάται από την εκάστοτε πλατφόρμα.

Εν κατακλείδι, μπορεί κανείς από τα παραπάνω να συμπεράνει, πως το Flutter είναι μία από τις καλύτερες επιλογές για cross-platform development framework. Για αυτόν τον λόγο, θα χρησιμοποιηθεί στην παρούσα εργασία για την κατασκευή της εφαρμογής, και παρουσιάζεται στην επόμενη ενότητα.

### Flutter: Περιγραφή και χαρακτηριστικά {#sec:literature:crossPlatformApps:Flutter}

Το Flutter είναι ένα software development kit (SDK), που δημιουργήθηκε από την Google για την ανάπτυξη εφαρμογών υψηλής πιστότητας και απόδοσης. Αρχικά, σχεδιάστηκε για να εξυπηρετήσει εφαρμογές για κινητές συσκευές, στοχεύοντας τις πλατφόρμες Android και iOS. Ωστόσο, γρήγορα επεκτάθηκε και σε άλλες πλατφόρμες, ώσπου πλέον υποστηρίζει εφαρμογές ιστού, υπολογιστή (εφαρμογές για Windows και macOS), αλλά και ενσωματωμένα (embedded) συστήματα [@Copperchips2023] [@Flutter2023].

Η ταχύτητα του Flutter έγκειται στο γεγονός ότι η γραφική διεπαφή σχεδιάζεται σε έναν καμβά από το ίδιο το Flutter, χωρίς να βασίζεται στην υποκείμενη πλατφόρμα. Έτσι, δεν υπάρχει ανάγκη για κάποια γέφυρα με το λειτουργικό σύστημα, όπως με το React Native, ούτε απαιτούνται εναλλαγές περιβάλλοντος (context switches) για την επίτευξη αυτού του σκοπού [@YouTubeFlutter2019].

Το Flutter βασίζεται στη γλώσσα προγραμματισμού Dart, μία αντικειμενοστραφής γλώσσα που σχεδιάστηκε έτσι, ώστε να είναι φιλική προς τον προγραμματιστή, εύκολη στην εκμάθηση και γρήγορη στην εκτέλεση, χωρίς να στερείται καμία λειτουργικότητα από άλλες αντικειμενοστραφείς γλώσσες, όπως η Java, η JavaScript ή η C#. Ένα σημαντικό πλεονέκτημα της Dart αποτελεί το γεγονός ότι χρησιμοποιεί και Just-in-Time (JIT) μεταγλωττιζόμενο κώδικα, επιτρέποντας έτσι γρήγορη σχεδίαση και αποσφαλμάτωση (debugging), με το λεγόμενο Hot Reload, το οποίο επιτρέπει στον προγραμματιστή να βλέπει τις αλλαγές που κάνει στον κώδικα, χωρίς καμία καθυστέρηση. Ταυτόχρονα όμως, όταν η εφαρμογή είναι έτοιμη για διάθεση, ο κώδικας είναι Ahead-of-Time (AoT) μεταγλωττιζόμενος, ούτως ώστε να προσφέρει ταχύτατες επιδόσεις κατά τη χρήση. Για τη σχεδίαση της γραφικής διεπαφής, το Flutter χρησιμοποιεί τη μηχανή σχεδίασης (rendering engine) Skia, η οποία είναι κατά βάση γραμμένη σε C++ [@YouTubeFlutter2019] [@You2021] [@Shah2019].

Το Flutter, λοιπόν, χαρακτηρίζεται από μία πληθώρα πλεονεκτημάτων, όπως:

- Υποστήριξη πολλών πλατφορμών από μία βάση κώδικα και ως εκ τούτου προσαρμοστικότητα σε πολλαπλά μεγέθη οθονών
- Εύκολος προγραμματισμός, αποσφαλμάτωση και δοκιμές
- Παροχή πληθώρας έτοιμων widgets, αλλά και εύκολη προσαρμογή νέων
- Επιδόσεις εφάμιλλες των native εφαρμογών
- Ανοιχτού κώδικα, δωρεάν
- Υποστήριξη από τη Google

Στον αντίποδα, τα εκτελέσιμα αρχεία που προκύπτουν για κάθε πλατφόρμα τείνουν να είναι μεγαλύτερα από τις υπόλοιπες λύσεις (με βέλτιστο μέγεθος αυτό των native εφαρμογών) [@Copperchips2023] [@Keshav2021] [@You2021].

Οι παραπάνω λόγοι κάνουν το Flutter μία από τις πιο αγαπητές λύσεις στο κοινό των προγραμματιστών αυτή τη στιγμή, όπως δείχνουν στατιστικές αναλύσεις [@Lee2023]. Σε έρευνα που πραγματοποιήθηκε το πρώτο τρίμηνο του 2023, περισσότεροι από 13.000 ερωτηθέντες απάντησαν κατά 93% θετικά ως προς το Flutter, με το 55% αυτών να είναι πολύ ευχαριστημένοι. Ενδεικτικά, στην Εικόνα @fig:literature:crossPlatformApps:Flutter:FlutterPopularityGrowth, φαίνεται η άποψη του κοινού για την ταχύτητα ανάπτυξης της δημοτικότητας του Flutter. Ο ενδιαφερόμενος αναγνώστης μπορεί να διαβάσει περισσότερα αποτελέσματα στο [@Lee2023].

![Αποτελέσματα έρευνας για την ανάπτυξη της δημοτικότητας του Flutter. Δεδομένα πρώτου τριμήνου 2023 [@Lee2023].](2-literature/figures/FlutterPopularityGrowth.png){#fig:literature:crossPlatformApps:Flutter:FlutterPopularityGrowth}
