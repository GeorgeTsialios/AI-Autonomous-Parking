## Υλοποίηση της βάσης δεδομένων {#sec:implementation:database}

Έχοντας σχεδιάσει τη βάση δεδομένων, καλούμαστε να επιλέξουμε ένα **σύστημα διαχείρισης βάσης δεδομένων (database management system - DBMS)**. Ένα σύστημα διαχείρισης βάσης δεδομένων είναι, ουσιαστικά, ένα σύστημα λογισμικού που επιτρέπει σε χρήστες και εφαρμογές να αλληλεπιδρούν με βάσεις δεδομένων. Οι λειτουργίες που επιτελεί ένα σύστημα διαχείρισης βάσης δεδομένων περιλαμβάνουν [@MongoDBMS]:

- **Αποθήκευση δεδομένων**: δυνατότητα αποθήκευσης δεδομένων σε μία κεντρική τοποθεσία
- **Ανάκτηση δεδομένων**: δυνατότητα αποδοτικής ανάκτησης δεδομένων μέσω των κατάλληλων ερωτημάτων
- **Διαχείριση δεδομένων**: προσθήκη, διαγραφή και τροποποίηση δεδομένων σε μία βάση δεδομένων
- **Οργάνωση δεδομένων**: δόμηση των δεδομένων με έναν συμπαγή και λογικό τρόπο

Αρχικά, τα δεδομένα διαχειρίζονταν σε αρχεία εντός αρχείων συστημάτων (file systems), πρακτική που γρήγορα κατέστη μη αποδοτική, λόγω της περιορισμένης λειτουργικότητας και αποδοτικότητας στη διαχείριση μεγάλων όγκων δεδομένων. Έτσι, εμφανίστηκαν οι πρώτες **σχεσιακές βάσεις δεδομένων (relational databases)**, συστήματα τα οποία βασίζονταν στη διάσημη πλέον γλώσσα προγραμματισμού SQL (Structured Query Language). Σήμερα, τα συστήματα αυτά έχουν εξελιχθεί πολύ περισσότερο, με τεχνολογίες όπως η NoSQL και οι βάσεις δεδομένων γράφων [@MongoDBMS].

Σε αυτό το σημείο, επιλέξαμε για την υποστήριξη της εφαρμογής **Horario** την ολοκληρωμένη πλατφόρμα νέφους **Firebase**. Το Firebase είναι μία ολοκληρωμένο σύστημα που βασίζεται στην Πλατφόρμα Νέφους της Google (Google Cloud Platform) και περιλαμβάνει δεκάδες προϊόντα, για την υποστήριξη εφαρμογών που βασίζονται στο νέφος. Το **Firestore** είναι ένα NoSQL σύστημα διαχείρισης βάσης δεδομένων που περιλαμβάνεται στα προϊόντα του Firebase. Στόχος του είναι η εύκολη και αποδοτική διαχείριση των δεδομένων εφαρμογών για κινητές συσκευές και ιστού, ώστε να είναι εύκολα επεκτάσιμες παγκοσμίως.

Οι εφαρμογές επικοινωνούν με το Firestore, καθώς και με όλα τα προϊόντα του Firebase, χρησιμοποιώντας το **Firebase SDK**, το οποίο έχει αναπτυχθεί για πολλές γλώσσες προγραμματισμού, βασική από τις οποίες αποτελεί η Dart για το Flutter. Ουσιαστικά, η επικοινωνία γίνεται μέσω REST APIs, πραγματοποιώντας αιτήματα και λαμβάνοντας αποκρίσεις HTTP, τα οποία όμως πραγματοποιεί το SDK, για διευκόλυνση των προγραμματιστών.

Στο Firestore, τα δεδομένα αποθηκεύονται σε μορφή **συλλογών (collections)**, οι οποίες αντιστοιχούν στις οντότητες του Διαγράμματος Οντοτήτων-Συσχετίσεων, και οι οποίες περιλαμβάνουν **έγγραφα (documents)**, δηλαδή τα αντικείμενα των οντοτήτων. Η NoSQL φύση του Firestore δεν επιβάλλει ένα αυστηρό σχήμα για τη μορφή των εγγράφων, ωστόσο δομούμε τα δεδομένα της εφαρμογής μας με τον τρόπο που παριστάνεται στις Εικόνες @fig:implementation:database:schema1 και @fig:implementation:database:schema2.

![Η δόμηση των δεδομένων της εφαρμογής Horario στο Firestore](4-implementation/figures/schema1.pdf){#fig:implementation:database:schema1}

![Η δόμηση των δεδομένων της εφαρμογής Horario στο Firestore (συνέχεια)](4-implementation/figures/schema2.pdf){#fig:implementation:database:schema2}
